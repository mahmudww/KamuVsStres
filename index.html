// ... (Kode sebelumnya) ...

    function usePooledParticle() {
        if (!isGameRunning || isPaused) return;
        
        const p = particlePool[particleIndex];
        particleIndex = (particleIndex + 1) % MAX_PARTICLES; 
        
        const scaleX = gameBoardWidth / BASE_BOARD_WIDTH;
        const scaleY = gameBoardHeight / BASE_BOARD_HEIGHT; 
        
        const size = Math.random() * 3 + 2; 
        p.style.width = `${size * scaleX}px`;
        p.style.height = `${size * scaleX}px`;
        p.style.boxShadow = `0 0 ${size * scaleX}px var(--color-ball)`;

        // ðŸš© V26.12: Koreksi Posisi Mundur 
        // Hitung vektor kecil untuk mundur (partikel harus tertinggal sedikit)
        const correctionFactor = 0.015; // Jeda 15 milidetik (sekitar 1 frame/4)
        const moveXCorrection = ballSpeedX * correctionFactor;
        const moveYCorrection = ballSpeedY * correctionFactor;
        
        const correctedBallX = ballX - moveXCorrection;
        const correctedBallY = ballY - moveYCorrection;

        // Hitung posisi Translate yang dikoreksi (berdasarkan BASE_BOARD_DIMENSIONS)
        const translateX = correctedBallX * scaleX + ballSize * scaleX / 2 - (size * scaleX / 2); 
        const translateY = correctedBallY * scaleY + ballSize * scaleX / 2 - (size * scaleX / 2); 
        
        p.style.left = `0`; 
        p.style.top = `0`; 
        
        // 1. Matikan transisi
        p.style.transition = 'none';
        
        // 2. Set posisi dan skala awal (partikel muncul)
        p.style.opacity = '0.8';
        p.style.transform = `translate3d(${translateX}px, ${translateY}px, 0) scale(1)`;

        // 3. Memicu transisi memudar (HANYA OPACITY)
        requestAnimationFrame(() => {
            requestAnimationFrame(() => {
                // HANYA gunakan transisi opacity. Transform instan.
                p.style.transition = 'opacity 0.5s ease-out'; 
                p.style.opacity = '0';
                // Partikel mengecil instan
                p.style.transform = `translate3d(${translateX}px, ${translateY}px, 0) scale(0.1)`; 
            });
        });
    }

// ... (Sisa kode game loop dan lainnya) ...
